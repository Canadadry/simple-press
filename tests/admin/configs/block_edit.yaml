unit_tests:
  GET:
    - { url: "/admin/block/#block_0_name#/edit", status: 200, out: "block_get" }

  POST:
    - { url: "/admin/block/#block_0_name#/edit",   status: 200, in: "block_edit",           out: "block_edit" }
    - { url: "/admin/block/#block_0_name#/edit",   status: 400, in: "block_edit_no_name",         out: "block_edit_no_name" }
    - { url: "/admin/block/#block_0_name#/edit",   status: 400, in: "block_edit_no_conent",        out: "block_edit_no_conent" }
    - { url: "/admin/block/#block_0_name#/edit",   status: 400, in: "block_edit_no_description",        out: "block_edit_no_description" }

files:
  responses/block_get.json: >
    {
      "name":"first_block",
      "content":"",
      "definition":{}
    }

  payloads/block_edit.json: >
    {
      "name":"first_block",
      "content":"{{.Data}}",
      "definition":{"Data":"my data"}
    }

  responses/block_edit.json: >
    {
      "name":"first_block",
      "content":"{{.Data}}",
      "definition":{"Data":"my data"}
    }

  payloads/block_edit_no_name.json: >
    {
      "author": "Alice",
      "slug": "my-block",
      "layout":1
    }

  responses/block_edit_no_name.json: >
    {
      "title": ["this value should not be blank"],
      "author": [],
      "slug": [],
      "layout": [],
      "draft": []
    }


  payloads/block_edit_no_conent.json: >
    {
      "title": "Updated",
      "slug": "my-block",
      "layout":1
    }

  responses/block_edit_no_conent.json: >
    {
      "title": [],
      "author": ["this value should not be blank"],
      "slug": [],
      "layout": [],
      "draft": []
    }


  payloads/block_edit_no_description.json: >
    {
      "content": "New body content"
    }

  responses/block_edit_no_description.json: >
    {
    "title":"index",
    "author":"metoo",
    "slug":"index",
    "content":"New body content",
    "draft":false,
    "layout_id":3,
    "layouts":[
      {"name":"header.html","value":4},
      {"name":"script.html","value":3},
      {"name":"head.html","value":2},
      {"name":"baseof.html","value":1}
    ],
    "blocks":[],
    "block_datas":[]
    }
