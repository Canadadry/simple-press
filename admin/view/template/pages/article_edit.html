{{define "body"}}
<!-- https://github.com/sparksuite/simplemde-markdown-editor?tab=readme-ov-file -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">

<section class="wrapper">
  <div class="container py-14 py-md-16">
    <div class="row">
      <div class="col-xl-10 mx-auto">
        <form method="post" action="">
            <div class="row gx-4">
                <div class="col-md-12">
                    <div class="form-floating mb-4">
                    <input id="form_slug" type="text" name="slug" class="form-control" value="{{.Article.Slug}}" required>
                    <label for="form_slug">{{Trans "ARTICLE_EDIT.slug"}} *</label>
                    {{if not (eq .Errors.Slug "") }}
                    <div class="invalid-feedback  d-block">
                        {{Trans (print "ARTICLE_EDIT.errors." .Errors.Slug)}}
                    </div>
                    {{ end }}
                    </div>
                </div>
                <!-- /column -->
                <div class="col-md-8">
                    <div class="form-floating mb-4">
                    <input id="form_title" type="text" name="title" class="form-control" placeholder="{{Trans "ARTICLE_ADD.title_placeholder"}}" value="{{.Article.Title}}" required>
                    <label for="form_title">{{Trans "ARTICLE_ADD.title"}} *</label>
                    {{if not (eq .Errors.Title "") }}
                    <div class="invalid-feedback  d-block">
                        {{Trans (print "ARTICLE_ADD.errors." .Errors.Title)}}
                    </div>
                    {{ end }}
                    </div>
                </div>
                <!-- /column -->
                <div class="col-md-4">
                    <div class="form-floating mb-4">
                    <input id="form_author" type="text" name="author" class="form-control" placeholder="{{Trans "ARTICLE_ADD.author_placeholder"}}" value="{{.Article.Author}}" required>
                    <label for="form_author">{{Trans "ARTICLE_ADD.author"}} *</label>
                    {{if not (eq .Errors.Author "") }}
                    <div class="invalid-feedback  d-block">
                        {{Trans (print "ARTICLE_ADD.errors." .Errors.Title)}}
                    </div>
                    {{ end }}
                    </div>
                </div>
                <!-- /column -->
                <div class="col-12">
                  <div class="form-floating mb-4">
                    <textarea id="form_content" name="content" class="form-control" style="height: 450px" required>{{.Article.Content}}</textarea>
                    {{if not (eq .Errors.Content "") }}
                    <div class="invalid-feedback  d-block">
                        {{Trans (print "ARTICLE_EDIT.errors." .Errors.Content)}}
                    </div>
                    {{ end }}

                  </div>
                </div>
                <!-- /column -->
                <div class="col-12">
                    <div class="form-check mb-4">
                    <input class="form-check-input" type="checkbox" name="draft" value="{{.Article.Draft}}" id="checkboxDraft" >
                    <label class="form-check-label" for="checkboxDraft">
                        {{Trans "ARTICLE_ADD.draft"}}
                    </label>
                    </div>
                </div>
                <!-- /column -->
                <div class="col-12">
                    <input type="submit" class="btn btn-primary rounded-pill btn-send mb-3" value="{{Trans "ARTICLE_EDIT.submit"}}">
                    <p class="text-muted"><strong>*</strong>{{Trans "FORM.field_requiered"}}</p>
                </div>
                <!-- /column -->
            </div>
            <!-- /.row -->
        </form>
        <!-- /form -->
      </div>
      <!-- /column -->
    </div>
    <!-- /.row -->
  </div>
  <!-- /.container -->
</section>
<!-- /section -->

<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
<script>
var simplemde = new SimpleMDE({
  element: document.getElementById("form_content"),
  promptURLs:true,
  spellChecker:false,
  autosave: {
    enabled: true,
    uniqueId: "{{.Article.Slug}}-editor-autosave",
    delay: 1000
  },
  hideIcons: ["preview", "fullscreen","side-by-side"]
});
</script>


{{end}}
