unit_tests:
  PATCH:
    - { url: "/admin/articles/tree", status: 405 }
  PUT:
    - { url: "/admin/articles/tree", status: 405 }
  DELETE:
    - { url: "/admin/articles/tree", status: 405 }

  GET:
    - { url: "/admin/articles/tree", status: 200, out: "articles_tree_root" }
    - { url: "/admin/articles/tree/blog", status: 200, out: "articles_tree_blog" }
    - { url: "/admin/articles/tree/unknown", status: 404 }
    - { url: "/admin/articles/tree/blog/..", status: 404 }

files:
  responses/articles_tree_root.json: >
    {
    "path":"",
    "articles": "article_list_item",
    "folders":["blog"]
    }

  responses/articles_tree_blog.json: >
    {
      "path": "blog",
      "folders": [],
      "articles": "article_list_item_blog"
    }

  responses/article_list_item_blog.json: >
    {
      "id":"@number@.greaterThan(0)",
      "title": "@string@.isNotEmpty()",
      "date": "@string@",
      "author": "@string@.isNotEmpty()",
      "content": "@string@.isNotEmpty()",
      "slug": "@string@.isNotEmpty().startsWith('blog/')",
      "draft": false
    }
