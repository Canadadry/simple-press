unit_tests:
  GET:
    - { url: "/admin/blocks/#block_0_name#/edit", status: 200, out: "block_get" }

  POST:
    - { url: "/admin/blocks/#block_0_name#/edit",   status: 200, in: "block_edit",                out: "block_edit" }
    - { url: "/admin/blocks/#block_0_name#/edit",   status: 400, in: "block_edit_no_name",        out: "block_edit_no_name" }
    - { url: "/admin/blocks/#block_0_name#/edit",   status: 400, in: "block_edit_no_conent",      out: "block_edit_no_conent" }
    - { url: "/admin/blocks/#block_0_name#/edit",   status: 400, in: "block_edit_no_definition",  out: "block_edit_no_definition" }
    # - { url: "/admin/blocks/#block_0_name#/edit",   status: 400, in: "block_edit_bad_definition", out: "block_edit_bad_definition" }

files:
  responses/block_get.json: >
    {
      "name":"first_block",
      "content":"{{.DataInitial}}",
      "definition":{"DataInitial":"my data"}
    }

  payloads/block_edit.json: >
    {
      "name":"first_block",
      "content":"{{.Data}}",
      "definition":{"Data":"my data"}
    }

  responses/block_edit.json: >
    {
      "name":"first_block",
      "content":"{{.Data}}",
      "definition":{"Data":"my data"}
    }

  payloads/block_edit_no_name.json: >
    {
      "content":"{{.Data}}",
      "definition":{"Data":"my data"}
    }

  responses/block_edit_no_name.json: >
    {
      "content":[],
      "definition":[],
      "name":["this value should not be blank"]
    }


  payloads/block_edit_no_conent.json: >
    {
      "name":"first_block",
      "definition":{"Data":"my data"}
    }

  responses/block_edit_no_conent.json: >
    {
      "name":[],
      "definition":[],
      "content":["this value should not be blank"]
    }


  payloads/block_edit_no_definition.json: >
    {
      "name":"first_block",
      "content": "New body content"
    }

  responses/block_edit_no_definition.json: >
    {
      "name":[],
      "content":[],
      "definition":["this value should not be blank"]
    }

  payloads/block_edit_bad_definition.json: >
    {
      "name":"first_block",
      "content": "New body content"
      "definition": "this should be a map"
    }

  responses/block_edit_bad_definition.json: >
    {
      "name":[],
      "content":[],
      "definition":["this value should a map"]
    }
